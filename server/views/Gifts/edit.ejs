<%- include('../partials/header') %>
<%- include('../partials/main_nav') %>

<div class="container">
    <div class="row">
        <div class="full-width-form">
            <h1> Edit </h1>

            <form action="/gifts/edit/<%= gift._id %>" method="post">
                <div class="form-group">
                    <label for="nameTextField">Name</label>
                    <input type="text" class="form-control"
                    id="nameTextField"
                    placeholder="Enter the name of the gift"
                    name="Name" 
                    value="<%= gift.Name %>"
                    required>
                </div>
                <!-- for the CATEGORY -->
                <div class="form-group">
                    <label for="categoryTextField">Category</label>
                    <input type="text" class="form-control"
                    id="categoryTextField"
                    placeholder="Enter the type of category"
                    name="Category" 
                    value="<%= gift.Category %>"
                    required>
                </div>
                
                <!-- for the PRIORITY -->

                <div class="form-group">
                    <label>Priority</label>

                    <!-- Hidden input for the submitted value -->
                    <input type="hidden" name="Priority" id="priorityInput" value="<%= gift.Priority %>">

                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" 
                                type="button" 
                                id="priorityDropdown" 
                                data-bs-toggle="dropdown" 
                                aria-expanded="false">
                            <%= gift.Priority %>
                        </button>

                        <ul class="dropdown-menu" aria-labelledby="priorityDropdown">
                            <li><a class="dropdown-item" href="#" onclick="setPriority('Really Need')">Really Need</a></li>
                            <li><a class="dropdown-item" href="#" onclick="setPriority('Need')">Need</a></li>
                            <li><a class="dropdown-item" href="#" onclick="setPriority('Want')">Want</a></li>
                        </ul>
                    </div>
                </div>

                <script>
                function setPriority(value) {
                    document.getElementById('priorityInput').value = value;  
                    document.getElementById('priorityDropdown').textContent = value;
                }
                </script>

                <!-- for the PRICE -->
                 <!--its different here cuz the number wouldn't come up-->
                <label for ="priceTextField">Price</label>
                 <input type="number" class="form-control"
                    id="priceTextField"
                    placeholder="Enter the price of the item"
                    name="Price"
                    value="<%= gift.Price %>"
                    required>
                <!-- for the PURCHASE -->
                <div class="form-group">
                    <label for="purchaseTextField">Purchase</label>
                    <input type="text" class="form-control"
                    id="purchaseTextField"
                    placeholder="Enter where this item is purchased"
                    name="Purchase"
                    value="<%= gift.Purchase %>"
                    required>
                </div>
                <br>
                <!--SUBMIT BUTTON-->
                <button class="btn btn-primary" type="submit">
                    <i class="fas fa-edit"></i> Submit </button>

                <!--DELETE button-->
                <a href="/gifts" class="btn btn-warning">
                    <i class="fas fa-undo"></i> Cancel
                </a>
            </form>
        </div>
    </div>
</div>

<%- include('../partials/footer') %>